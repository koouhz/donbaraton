import{c as ue,R as A,r as R,s as ae,j as e,X as ne,i as le,S as fe,m as ce,C as Le,d as De}from"./index-DyRGlXyn.js";import{n as k,F as Ue,L as ge}from"./index-Bk6qzOxF.js";import{U as me}from"./user-QSq5DbPw.js";import{P as ye}from"./plus-CAyMjqEC.js";import{T as be}from"./trash-2-CTuwllM0.js";import{M as Ve}from"./minus-6fAl20hl.js";import{C as Ce}from"./credit-card-CbyNWAn6.js";import{B as He}from"./banknote-Cm8T4vG6.js";import{F as Qe}from"./file-text-CuqINRXR.js";const We=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],$e=ue("printer",We);const Ge=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Ye=ue("qr-code",Ge);const qe=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],je=ue("scan",qe);var Ke=Object.defineProperty,oe=Object.getOwnPropertySymbols,we=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable,ve=(g,d,c)=>d in g?Ke(g,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):g[d]=c,de=(g,d)=>{for(var c in d||(d={}))we.call(d,c)&&ve(g,c,d[c]);if(oe)for(var c of oe(d))Ee.call(d,c)&&ve(g,c,d[c]);return g},pe=(g,d)=>{var c={};for(var x in g)we.call(g,x)&&d.indexOf(x)<0&&(c[x]=g[x]);if(g!=null&&oe)for(var x of oe(g))d.indexOf(x)<0&&Ee.call(g,x)&&(c[x]=g[x]);return c};var G;(g=>{const d=class C{constructor(t,o,n,i){if(this.version=t,this.errorCorrectionLevel=o,this.modules=[],this.isFunction=[],t<C.MIN_VERSION||t>C.MAX_VERSION)throw new RangeError("Version value out of range");if(i<-1||i>7)throw new RangeError("Mask value out of range");this.size=t*4+17;let s=[];for(let l=0;l<this.size;l++)s.push(!1);for(let l=0;l<this.size;l++)this.modules.push(s.slice()),this.isFunction.push(s.slice());this.drawFunctionPatterns();const u=this.addEccAndInterleave(n);if(this.drawCodewords(u),i==-1){let l=1e9;for(let y=0;y<8;y++){this.applyMask(y),this.drawFormatBits(y);const p=this.getPenaltyScore();p<l&&(i=y,l=p),this.applyMask(y)}}h(0<=i&&i<=7),this.mask=i,this.applyMask(i),this.drawFormatBits(i),this.isFunction=[]}static encodeText(t,o){const n=g.QrSegment.makeSegments(t);return C.encodeSegments(n,o)}static encodeBinary(t,o){const n=g.QrSegment.makeBytes(t);return C.encodeSegments([n],o)}static encodeSegments(t,o,n=1,i=40,s=-1,u=!0){if(!(C.MIN_VERSION<=n&&n<=i&&i<=C.MAX_VERSION)||s<-1||s>7)throw new RangeError("Invalid value");let l,y;for(l=n;;l++){const m=C.getNumDataCodewords(l,o)*8,E=M.getTotalBits(t,l);if(E<=m){y=E;break}if(l>=i)throw new RangeError("Data too long")}for(const m of[C.Ecc.MEDIUM,C.Ecc.QUARTILE,C.Ecc.HIGH])u&&y<=C.getNumDataCodewords(l,m)*8&&(o=m);let p=[];for(const m of t){c(m.mode.modeBits,4,p),c(m.numChars,m.mode.numCharCountBits(l),p);for(const E of m.getData())p.push(E)}h(p.length==y);const T=C.getNumDataCodewords(l,o)*8;h(p.length<=T),c(0,Math.min(4,T-p.length),p),c(0,(8-p.length%8)%8,p),h(p.length%8==0);for(let m=236;p.length<T;m^=253)c(m,8,p);let w=[];for(;w.length*8<p.length;)w.push(0);return p.forEach((m,E)=>w[E>>>3]|=m<<7-(E&7)),new C(l,o,w,s)}getModule(t,o){return 0<=t&&t<this.size&&0<=o&&o<this.size&&this.modules[o][t]}getModules(){return this.modules}drawFunctionPatterns(){for(let n=0;n<this.size;n++)this.setFunctionModule(6,n,n%2==0),this.setFunctionModule(n,6,n%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const t=this.getAlignmentPatternPositions(),o=t.length;for(let n=0;n<o;n++)for(let i=0;i<o;i++)n==0&&i==0||n==0&&i==o-1||n==o-1&&i==0||this.drawAlignmentPattern(t[n],t[i]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(t){const o=this.errorCorrectionLevel.formatBits<<3|t;let n=o;for(let s=0;s<10;s++)n=n<<1^(n>>>9)*1335;const i=(o<<10|n)^21522;h(i>>>15==0);for(let s=0;s<=5;s++)this.setFunctionModule(8,s,x(i,s));this.setFunctionModule(8,7,x(i,6)),this.setFunctionModule(8,8,x(i,7)),this.setFunctionModule(7,8,x(i,8));for(let s=9;s<15;s++)this.setFunctionModule(14-s,8,x(i,s));for(let s=0;s<8;s++)this.setFunctionModule(this.size-1-s,8,x(i,s));for(let s=8;s<15;s++)this.setFunctionModule(8,this.size-15+s,x(i,s));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let t=this.version;for(let n=0;n<12;n++)t=t<<1^(t>>>11)*7973;const o=this.version<<12|t;h(o>>>18==0);for(let n=0;n<18;n++){const i=x(o,n),s=this.size-11+n%3,u=Math.floor(n/3);this.setFunctionModule(s,u,i),this.setFunctionModule(u,s,i)}}drawFinderPattern(t,o){for(let n=-4;n<=4;n++)for(let i=-4;i<=4;i++){const s=Math.max(Math.abs(i),Math.abs(n)),u=t+i,l=o+n;0<=u&&u<this.size&&0<=l&&l<this.size&&this.setFunctionModule(u,l,s!=2&&s!=4)}}drawAlignmentPattern(t,o){for(let n=-2;n<=2;n++)for(let i=-2;i<=2;i++)this.setFunctionModule(t+i,o+n,Math.max(Math.abs(i),Math.abs(n))!=1)}setFunctionModule(t,o,n){this.modules[o][t]=n,this.isFunction[o][t]=!0}addEccAndInterleave(t){const o=this.version,n=this.errorCorrectionLevel;if(t.length!=C.getNumDataCodewords(o,n))throw new RangeError("Invalid argument");const i=C.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][o],s=C.ECC_CODEWORDS_PER_BLOCK[n.ordinal][o],u=Math.floor(C.getNumRawDataModules(o)/8),l=i-u%i,y=Math.floor(u/i);let p=[];const T=C.reedSolomonComputeDivisor(s);for(let m=0,E=0;m<i;m++){let B=t.slice(E,E+y-s+(m<l?0:1));E+=B.length;const Y=C.reedSolomonComputeRemainder(B,T);m<l&&B.push(0),p.push(B.concat(Y))}let w=[];for(let m=0;m<p[0].length;m++)p.forEach((E,B)=>{(m!=y-s||B>=l)&&w.push(E[m])});return h(w.length==u),w}drawCodewords(t){if(t.length!=Math.floor(C.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let o=0;for(let n=this.size-1;n>=1;n-=2){n==6&&(n=5);for(let i=0;i<this.size;i++)for(let s=0;s<2;s++){const u=n-s,y=(n+1&2)==0?this.size-1-i:i;!this.isFunction[y][u]&&o<t.length*8&&(this.modules[y][u]=x(t[o>>>3],7-(o&7)),o++)}}h(o==t.length*8)}applyMask(t){if(t<0||t>7)throw new RangeError("Mask value out of range");for(let o=0;o<this.size;o++)for(let n=0;n<this.size;n++){let i;switch(t){case 0:i=(n+o)%2==0;break;case 1:i=o%2==0;break;case 2:i=n%3==0;break;case 3:i=(n+o)%3==0;break;case 4:i=(Math.floor(n/3)+Math.floor(o/2))%2==0;break;case 5:i=n*o%2+n*o%3==0;break;case 6:i=(n*o%2+n*o%3)%2==0;break;case 7:i=((n+o)%2+n*o%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[o][n]&&i&&(this.modules[o][n]=!this.modules[o][n])}}getPenaltyScore(){let t=0;for(let s=0;s<this.size;s++){let u=!1,l=0,y=[0,0,0,0,0,0,0];for(let p=0;p<this.size;p++)this.modules[s][p]==u?(l++,l==5?t+=C.PENALTY_N1:l>5&&t++):(this.finderPenaltyAddHistory(l,y),u||(t+=this.finderPenaltyCountPatterns(y)*C.PENALTY_N3),u=this.modules[s][p],l=1);t+=this.finderPenaltyTerminateAndCount(u,l,y)*C.PENALTY_N3}for(let s=0;s<this.size;s++){let u=!1,l=0,y=[0,0,0,0,0,0,0];for(let p=0;p<this.size;p++)this.modules[p][s]==u?(l++,l==5?t+=C.PENALTY_N1:l>5&&t++):(this.finderPenaltyAddHistory(l,y),u||(t+=this.finderPenaltyCountPatterns(y)*C.PENALTY_N3),u=this.modules[p][s],l=1);t+=this.finderPenaltyTerminateAndCount(u,l,y)*C.PENALTY_N3}for(let s=0;s<this.size-1;s++)for(let u=0;u<this.size-1;u++){const l=this.modules[s][u];l==this.modules[s][u+1]&&l==this.modules[s+1][u]&&l==this.modules[s+1][u+1]&&(t+=C.PENALTY_N2)}let o=0;for(const s of this.modules)o=s.reduce((u,l)=>u+(l?1:0),o);const n=this.size*this.size,i=Math.ceil(Math.abs(o*20-n*10)/n)-1;return h(0<=i&&i<=9),t+=i*C.PENALTY_N4,h(0<=t&&t<=2568888),t}getAlignmentPatternPositions(){if(this.version==1)return[];{const t=Math.floor(this.version/7)+2,o=this.version==32?26:Math.ceil((this.version*4+4)/(t*2-2))*2;let n=[6];for(let i=this.size-7;n.length<t;i-=o)n.splice(1,0,i);return n}}static getNumRawDataModules(t){if(t<C.MIN_VERSION||t>C.MAX_VERSION)throw new RangeError("Version number out of range");let o=(16*t+128)*t+64;if(t>=2){const n=Math.floor(t/7)+2;o-=(25*n-10)*n-55,t>=7&&(o-=36)}return h(208<=o&&o<=29648),o}static getNumDataCodewords(t,o){return Math.floor(C.getNumRawDataModules(t)/8)-C.ECC_CODEWORDS_PER_BLOCK[o.ordinal][t]*C.NUM_ERROR_CORRECTION_BLOCKS[o.ordinal][t]}static reedSolomonComputeDivisor(t){if(t<1||t>255)throw new RangeError("Degree out of range");let o=[];for(let i=0;i<t-1;i++)o.push(0);o.push(1);let n=1;for(let i=0;i<t;i++){for(let s=0;s<o.length;s++)o[s]=C.reedSolomonMultiply(o[s],n),s+1<o.length&&(o[s]^=o[s+1]);n=C.reedSolomonMultiply(n,2)}return o}static reedSolomonComputeRemainder(t,o){let n=o.map(i=>0);for(const i of t){const s=i^n.shift();n.push(0),o.forEach((u,l)=>n[l]^=C.reedSolomonMultiply(u,s))}return n}static reedSolomonMultiply(t,o){if(t>>>8||o>>>8)throw new RangeError("Byte out of range");let n=0;for(let i=7;i>=0;i--)n=n<<1^(n>>>7)*285,n^=(o>>>i&1)*t;return h(n>>>8==0),n}finderPenaltyCountPatterns(t){const o=t[1];h(o<=this.size*3);const n=o>0&&t[2]==o&&t[3]==o*3&&t[4]==o&&t[5]==o;return(n&&t[0]>=o*4&&t[6]>=o?1:0)+(n&&t[6]>=o*4&&t[0]>=o?1:0)}finderPenaltyTerminateAndCount(t,o,n){return t&&(this.finderPenaltyAddHistory(o,n),o=0),o+=this.size,this.finderPenaltyAddHistory(o,n),this.finderPenaltyCountPatterns(n)}finderPenaltyAddHistory(t,o){o[0]==0&&(t+=this.size),o.pop(),o.unshift(t)}};d.MIN_VERSION=1,d.MAX_VERSION=40,d.PENALTY_N1=3,d.PENALTY_N2=3,d.PENALTY_N3=40,d.PENALTY_N4=10,d.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],d.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],g.QrCode=d;function c(j,t,o){if(t<0||t>31||j>>>t)throw new RangeError("Value out of range");for(let n=t-1;n>=0;n--)o.push(j>>>n&1)}function x(j,t){return(j>>>t&1)!=0}function h(j){if(!j)throw new Error("Assertion error")}const f=class S{constructor(t,o,n){if(this.mode=t,this.numChars=o,this.bitData=n,o<0)throw new RangeError("Invalid argument");this.bitData=n.slice()}static makeBytes(t){let o=[];for(const n of t)c(n,8,o);return new S(S.Mode.BYTE,t.length,o)}static makeNumeric(t){if(!S.isNumeric(t))throw new RangeError("String contains non-numeric characters");let o=[];for(let n=0;n<t.length;){const i=Math.min(t.length-n,3);c(parseInt(t.substring(n,n+i),10),i*3+1,o),n+=i}return new S(S.Mode.NUMERIC,t.length,o)}static makeAlphanumeric(t){if(!S.isAlphanumeric(t))throw new RangeError("String contains unencodable characters in alphanumeric mode");let o=[],n;for(n=0;n+2<=t.length;n+=2){let i=S.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n))*45;i+=S.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n+1)),c(i,11,o)}return n<t.length&&c(S.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n)),6,o),new S(S.Mode.ALPHANUMERIC,t.length,o)}static makeSegments(t){return t==""?[]:S.isNumeric(t)?[S.makeNumeric(t)]:S.isAlphanumeric(t)?[S.makeAlphanumeric(t)]:[S.makeBytes(S.toUtf8ByteArray(t))]}static makeEci(t){let o=[];if(t<0)throw new RangeError("ECI assignment value out of range");if(t<128)c(t,8,o);else if(t<16384)c(2,2,o),c(t,14,o);else if(t<1e6)c(6,3,o),c(t,21,o);else throw new RangeError("ECI assignment value out of range");return new S(S.Mode.ECI,0,o)}static isNumeric(t){return S.NUMERIC_REGEX.test(t)}static isAlphanumeric(t){return S.ALPHANUMERIC_REGEX.test(t)}getData(){return this.bitData.slice()}static getTotalBits(t,o){let n=0;for(const i of t){const s=i.mode.numCharCountBits(o);if(i.numChars>=1<<s)return 1/0;n+=4+s+i.bitData.length}return n}static toUtf8ByteArray(t){t=encodeURI(t);let o=[];for(let n=0;n<t.length;n++)t.charAt(n)!="%"?o.push(t.charCodeAt(n)):(o.push(parseInt(t.substring(n+1,n+3),16)),n+=2);return o}};f.NUMERIC_REGEX=/^[0-9]*$/,f.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,f.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let M=f;g.QrSegment=f})(G||(G={}));(g=>{(d=>{const c=class{constructor(h,f){this.ordinal=h,this.formatBits=f}};c.LOW=new c(0,1),c.MEDIUM=new c(1,0),c.QUARTILE=new c(2,3),c.HIGH=new c(3,2),d.Ecc=c})(g.QrCode||(g.QrCode={}))})(G||(G={}));(g=>{(d=>{const c=class{constructor(h,f){this.modeBits=h,this.numBitsCharCount=f}numCharCountBits(h){return this.numBitsCharCount[Math.floor((h+7)/17)]}};c.NUMERIC=new c(1,[10,12,14]),c.ALPHANUMERIC=new c(2,[9,11,13]),c.BYTE=new c(4,[8,16,16]),c.KANJI=new c(8,[8,10,12]),c.ECI=new c(7,[0,0,0]),d.Mode=c})(g.QrSegment||(g.QrSegment={}))})(G||(G={}));var X=G;var Xe={L:X.QrCode.Ecc.LOW,M:X.QrCode.Ecc.MEDIUM,Q:X.QrCode.Ecc.QUARTILE,H:X.QrCode.Ecc.HIGH},Re=128,Se="L",Ie="#FFFFFF",Ae="#000000",Me=!1,Te=1,Ze=4,Je=0,et=.1;function Be(g,d=0){const c=[];return g.forEach(function(x,h){let f=null;x.forEach(function(M,j){if(!M&&f!==null){c.push(`M${f+d} ${h+d}h${j-f}v1H${f+d}z`),f=null;return}if(j===x.length-1){if(!M)return;f===null?c.push(`M${j+d},${h+d} h1v1H${j+d}z`):c.push(`M${f+d},${h+d} h${j+1-f}v1H${f+d}z`);return}M&&f===null&&(f=j)})}),c.join("")}function ke(g,d){return g.slice().map((c,x)=>x<d.y||x>=d.y+d.h?c:c.map((h,f)=>f<d.x||f>=d.x+d.w?h:!1))}function tt(g,d,c,x){if(x==null)return null;const h=g.length+c*2,f=Math.floor(d*et),M=h/d,j=(x.width||f)*M,t=(x.height||f)*M,o=x.x==null?g.length/2-j/2:x.x*M,n=x.y==null?g.length/2-t/2:x.y*M,i=x.opacity==null?1:x.opacity;let s=null;if(x.excavate){let l=Math.floor(o),y=Math.floor(n),p=Math.ceil(j+o-l),T=Math.ceil(t+n-y);s={x:l,y,w:p,h:T}}const u=x.crossOrigin;return{x:o,y:n,h:t,w:j,excavation:s,opacity:i,crossOrigin:u}}function nt(g,d){return d!=null?Math.max(Math.floor(d),0):g?Ze:Je}function ze({value:g,level:d,minVersion:c,includeMargin:x,marginSize:h,imageSettings:f,size:M,boostLevel:j}){let t=A.useMemo(()=>{const l=(Array.isArray(g)?g:[g]).reduce((y,p)=>(y.push(...X.QrSegment.makeSegments(p)),y),[]);return X.QrCode.encodeSegments(l,Xe[d],c,void 0,void 0,j)},[g,d,c,j]);const{cells:o,margin:n,numCells:i,calculatedImageSettings:s}=A.useMemo(()=>{let u=t.getModules();const l=nt(x,h),y=u.length+l*2,p=tt(u,M,l,f);return{cells:u,margin:l,numCells:y,calculatedImageSettings:p}},[t,M,f,x,h]);return{qrcode:t,margin:n,cells:o,numCells:i,calculatedImageSettings:s}}var ot=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),rt=A.forwardRef(function(d,c){const x=d,{value:h,size:f=Re,level:M=Se,bgColor:j=Ie,fgColor:t=Ae,includeMargin:o=Me,minVersion:n=Te,boostLevel:i,marginSize:s,imageSettings:u}=x,y=pe(x,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:p}=y,T=pe(y,["style"]),w=u?.src,m=A.useRef(null),E=A.useRef(null),B=A.useCallback(F=>{m.current=F,typeof c=="function"?c(F):c&&(c.current=F)},[c]),[Y,D]=A.useState(!1),{margin:V,cells:Q,numCells:z,calculatedImageSettings:P}=ze({value:h,level:M,minVersion:n,boostLevel:i,includeMargin:o,marginSize:s,imageSettings:u,size:f});A.useEffect(()=>{if(m.current!=null){const F=m.current,N=F.getContext("2d");if(!N)return;let Z=Q;const U=E.current,v=P!=null&&U!==null&&U.complete&&U.naturalHeight!==0&&U.naturalWidth!==0;v&&P.excavation!=null&&(Z=ke(Q,P.excavation));const q=window.devicePixelRatio||1;F.height=F.width=f*q;const L=f/z*q;N.scale(L,L),N.fillStyle=j,N.fillRect(0,0,z,z),N.fillStyle=t,ot?N.fill(new Path2D(Be(Z,V))):Q.forEach(function(J,ee){J.forEach(function(re,ie){re&&N.fillRect(ie+V,ee+V,1,1)})}),P&&(N.globalAlpha=P.opacity),v&&N.drawImage(U,P.x+V,P.y+V,P.w,P.h)}}),A.useEffect(()=>{D(!1)},[w]);const _=de({height:f,width:f},p);let W=null;return w!=null&&(W=A.createElement("img",{src:w,key:w,style:{display:"none"},onLoad:()=>{D(!0)},ref:E,crossOrigin:P?.crossOrigin})),A.createElement(A.Fragment,null,A.createElement("canvas",de({style:_,height:f,width:f,ref:B,role:"img"},T)),W)});rt.displayName="QRCodeCanvas";var Pe=A.forwardRef(function(d,c){const x=d,{value:h,size:f=Re,level:M=Se,bgColor:j=Ie,fgColor:t=Ae,includeMargin:o=Me,minVersion:n=Te,boostLevel:i,title:s,marginSize:u,imageSettings:l}=x,y=pe(x,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:p,cells:T,numCells:w,calculatedImageSettings:m}=ze({value:h,level:M,minVersion:n,boostLevel:i,includeMargin:o,marginSize:u,imageSettings:l,size:f});let E=T,B=null;l!=null&&m!=null&&(m.excavation!=null&&(E=ke(T,m.excavation)),B=A.createElement("image",{href:l.src,height:m.h,width:m.w,x:m.x+p,y:m.y+p,preserveAspectRatio:"none",opacity:m.opacity,crossOrigin:m.crossOrigin}));const Y=Be(E,p);return A.createElement("svg",de({height:f,width:f,viewBox:`0 0 ${w} ${w}`,ref:c,role:"img"},y),!!s&&A.createElement("title",null,s),A.createElement("path",{fill:j,d:`M0,0 h${w}v${w}H0z`,shapeRendering:"crispEdges"}),A.createElement("path",{fill:t,d:Y,shapeRendering:"crispEdges"}),B)});Pe.displayName="QRCodeSVG";function gt(){const[g,d]=R.useState([]),[c,x]=R.useState([]),[h,f]=R.useState([]),[M,j]=R.useState(!0),[t,o]=R.useState(!1),[n,i]=R.useState(""),[s,u]=R.useState(""),[l,y]=R.useState(null),[p,T]=R.useState("EFECTIVO"),[w,m]=R.useState(""),[E,B]=R.useState(!1),[Y,D]=R.useState(!1),[V,Q]=R.useState(0),[z,P]=R.useState("TICKET"),[_,W]=R.useState({nit:"",razon_social:"",direccion:""}),[F,N]=R.useState(null),[Z,U]=R.useState(!1),[v,q]=R.useState(null),L=R.useRef(null),J=()=>{const a=localStorage.getItem("user");if(a)try{const b=JSON.parse(a);return{id:b.usuario_id||1,username:b.username||"admin"}}catch{return{id:1,username:"admin"}}return{id:1,username:"admin"}};R.useEffect(()=>{ee(),setTimeout(()=>L.current?.focus(),100)},[]),R.useEffect(()=>{let a,b=!1;return E&&p==="QR"&&l&&h.length>0&&!t?(Q(20),a=setInterval(()=>{Q(I=>I<=1&&!b?(clearInterval(a),b=!0,xe(),0):I-1)},1e3)):Q(0),()=>{clearInterval(a),b=!0}},[E,p,l]),R.useEffect(()=>{l&&W({nit:l.ci_nit!=="0"?l.ci_nit:"",razon_social:l.nombres+(l.apellido_paterno?" "+l.apellido_paterno:""),direccion:l.direccion||""})},[l]),R.useEffect(()=>{if(F){const a=setTimeout(()=>N(null),3e3);return()=>clearTimeout(a)}},[F]);const ee=async()=>{j(!0);try{const[a,b]=await Promise.all([ae.rpc("fn_listar_productos",{p_buscar:null}),ae.rpc("fn_listar_clientes",{p_busqueda:null})]);if(a.error)throw a.error;if(b.error)throw b.error;d(a.data||[]),x(b.data||[])}catch(a){console.error("Error:",a),k.error("Error al cargar datos")}finally{j(!1)}},re=a=>a.trim()?g.find(I=>I.codigo_barras===a.trim()||I.codigo_interno?.toLowerCase()===a.trim().toLowerCase()):null,ie=a=>{if(a.key==="Enter"){a.preventDefault();const b=re(n);b?(Fe(b),N(b)):k.error(`Producto no encontrado: ${n}`),i(""),L.current?.focus()}},_e=c.filter(a=>a.nombre_completo?.toLowerCase().includes(s.toLowerCase())||a.ci_nit?.includes(s)).slice(0,20),Fe=a=>{if(a.stock_actual<=0){k.error("Producto sin stock");return}const b=h.find(I=>I.producto_id===a.id_producto);if(b){if(b.cantidad>=a.stock_actual){k.error("Stock insuficiente");return}f(h.map(I=>I.producto_id===a.id_producto?{...I,cantidad:I.cantidad+1}:I))}else f([...h,{producto_id:a.id_producto,nombre:a.nombre,precio:parseFloat(a.precio_venta),cantidad:1,stock_disponible:a.stock_actual}]);k.success(`${a.nombre} agregado`)},he=(a,b)=>{f(h.map(I=>{if(I.producto_id===a){const H=I.cantidad+b;return H<=0?null:H>I.stock_disponible?(k.error("Stock insuficiente"),I):{...I,cantidad:H}}return I}).filter(Boolean))},Ne=a=>{f(h.filter(b=>b.producto_id!==a))},se=h.reduce((a,b)=>a+b.precio*b.cantidad,0),O=se,te=parseFloat(w||0)-O,xe=async()=>{if(h.length===0){k.error("El carrito est谩 vac铆o");return}if(!l){k.error("Seleccione un cliente"),D(!0);return}if(p==="EFECTIVO"&&parseFloat(w||0)<O){k.error("Monto recibido insuficiente");return}if(z==="FACTURA"&&(!_.nit||!_.razon_social)){k.error("NIT y Raz贸n Social son obligatorios para Factura");return}o(!0);try{const a=J(),b=h.map(K=>({id_producto:K.producto_id,cantidad:K.cantidad,precio_unitario:K.precio,descuento:0})),{data:I,error:H}=await ae.rpc("fn_registrar_venta",{p_id_cliente:l.id_cliente,p_tipo_comprobante:z,p_detalles:b,p_medio_pago:p,p_monto_total:O,p_monto_recibido:p==="EFECTIVO"?parseFloat(w):O,p_username:a.username,p_nit_cliente:z==="FACTURA"?_.nit:null,p_razon_social:z==="FACTURA"?_.razon_social:null,p_direccion_factura:z==="FACTURA"?_.direccion:null});if(H)console.error("Error venta:",H),H.message.includes("Stock insuficiente")?k.error("Stock insuficiente para uno de los productos"):k.error(H.message||"Error al registrar venta");else{const K=new Date;q({idVenta:I,tipo:z,fecha:K.toLocaleDateString("es-BO"),hora:K.toLocaleTimeString("es-BO"),cliente:l,items:[...h],subtotal:se,total:O,medioPago:p,montoRecibido:p==="EFECTIVO"?parseFloat(w):O,vuelto:p==="EFECTIVO"?te:0,facturaDatos:z==="FACTURA"?{..._}:null,cajero:J().username}),k.success("隆Venta registrada exitosamente!"),p==="EFECTIVO"&&te>0&&k(`Vuelto: Bs ${te.toFixed(2)}`,{icon:"",duration:5e3}),B(!1),U(!0),f([]),y(null),m(""),ee()}}catch(a){console.error("Error:",a),k.error("Error al procesar la venta")}finally{o(!1)}},Oe=()=>{h.length>0&&!window.confirm("驴Limpiar la venta actual?")||(f([]),y(null),m(""),L.current?.focus())},$=a=>`Bs ${parseFloat(a).toFixed(2)}`;return e.jsxs("div",{style:r.container,children:[e.jsx(Ue,{position:"top-center"}),e.jsxs("div",{style:r.posLayout,children:[e.jsxs("div",{style:r.leftPanel,children:[e.jsxs("div",{style:r.scannerSection,children:[e.jsxs("h2",{style:r.panelTitle,children:[e.jsx(je,{size:24}),"Esc谩ner de C贸digo de Barras"]}),e.jsxs("div",{style:r.scannerBox,children:[e.jsx("div",{style:r.scannerIcon,children:e.jsx(je,{size:32})}),e.jsx("input",{ref:L,type:"text",placeholder:"Escanee o ingrese el c贸digo de barras...",value:n,onChange:a=>i(a.target.value),onKeyDown:ie,style:r.scannerInput,autoFocus:!0}),n&&e.jsx("button",{onClick:()=>i(""),style:r.clearButton,children:e.jsx(ne,{size:18})})]}),e.jsxs("p",{style:r.scannerHint,children:["Escanee el c贸digo de barras del producto o escriba el c贸digo y presione ",e.jsx("strong",{children:"Enter"})]}),F&&e.jsxs("div",{style:r.feedbackCard,children:[e.jsx(le,{size:20,style:{color:"#2e7d32"}}),e.jsxs("div",{children:[e.jsx("strong",{children:F.nombre}),e.jsx("span",{style:r.feedbackPrice,children:$(F.precio_venta)})]})]})]}),e.jsxs("div",{style:r.clienteSection,children:[e.jsxs("h3",{style:r.clienteTitle,children:[e.jsx(me,{size:18}),"Cliente"]}),l?e.jsxs("div",{style:r.clienteCard,children:[e.jsxs("div",{children:[e.jsx("strong",{children:l.nombre_completo}),e.jsxs("span",{style:r.clienteCI,children:["CI/NIT: ",l.ci_nit]})]}),e.jsx("button",{style:r.changeClienteBtn,onClick:()=>D(!0),children:"Cambiar"})]}):e.jsxs("button",{style:r.selectClienteBtn,onClick:()=>D(!0),children:[e.jsx(ye,{size:18}),"Seleccionar Cliente"]})]}),e.jsxs("div",{style:r.instructionsCard,children:[e.jsx("h4",{style:r.instructionsTitle,children:" Instrucciones"}),e.jsxs("ol",{style:r.instructionsList,children:[e.jsx("li",{children:"Seleccione un cliente"}),e.jsx("li",{children:"Escanee los productos con el lector"}),e.jsx("li",{children:"Verifique el carrito"}),e.jsx("li",{children:"Procese el pago"})]})]})]}),e.jsxs("div",{style:r.rightPanel,children:[e.jsxs("div",{style:r.cartHeader,children:[e.jsxs("h2",{style:r.panelTitle,children:[e.jsx(fe,{size:20}),"Carrito (",h.length,")"]}),h.length>0&&e.jsx("button",{style:r.clearCartBtn,onClick:Oe,children:e.jsx(be,{size:16})})]}),e.jsx("div",{style:r.cartItems,children:h.length===0?e.jsxs("div",{style:r.emptyCart,children:[e.jsx(fe,{size:48,style:{color:"#ccc"}}),e.jsx("p",{children:"Carrito vac铆o"}),e.jsx("span",{children:"Escanee productos para agregar"})]}):h.map(a=>e.jsxs("div",{style:r.cartItem,children:[e.jsxs("div",{style:r.cartItemInfo,children:[e.jsx("span",{style:r.cartItemName,children:a.nombre}),e.jsxs("span",{style:r.cartItemPrice,children:[$(a.precio)," c/u"]})]}),e.jsxs("div",{style:r.cartItemControls,children:[e.jsx("button",{style:r.qtyBtn,onClick:()=>he(a.producto_id,-1),children:e.jsx(Ve,{size:14})}),e.jsx("span",{style:r.qtyValue,children:a.cantidad}),e.jsx("button",{style:r.qtyBtn,onClick:()=>he(a.producto_id,1),children:e.jsx(ye,{size:14})}),e.jsx("button",{style:r.removeBtn,onClick:()=>Ne(a.producto_id),children:e.jsx(be,{size:14})})]}),e.jsx("div",{style:r.cartItemTotal,children:$(a.precio*a.cantidad)})]},a.producto_id))}),e.jsxs("div",{style:r.cartFooter,children:[e.jsxs("div",{style:r.totalsRow,children:[e.jsx("span",{children:"Subtotal:"}),e.jsx("span",{children:$(se)})]}),e.jsxs("div",{style:r.totalRow,children:[e.jsx("span",{children:"TOTAL:"}),e.jsx("span",{style:r.totalValue,children:$(O)})]}),e.jsxs("button",{style:{...r.payButton,opacity:h.length===0?.5:1},onClick:()=>B(!0),disabled:h.length===0,children:[e.jsx(Ce,{size:20}),"Procesar Pago"]})]})]})]}),Y&&e.jsx("div",{style:r.modalOverlay,onClick:()=>D(!1),children:e.jsxs("div",{style:r.modal,onClick:a=>a.stopPropagation(),children:[e.jsxs("div",{style:r.modalHeader,children:[e.jsx("h3",{children:"Seleccionar Cliente"}),e.jsx("button",{style:r.closeBtn,onClick:()=>D(!1),children:e.jsx(ne,{size:20})})]}),e.jsxs("div",{style:r.modalBody,children:[e.jsx("div",{style:r.searchBox,children:e.jsx("input",{type:"text",placeholder:"Buscar por nombre o CI...",value:s,onChange:a=>u(a.target.value),style:r.searchInput})}),e.jsx("div",{style:r.clienteList,children:_e.map(a=>e.jsxs("div",{style:r.clienteOption,onClick:()=>{y(a),D(!1),u(""),L.current?.focus()},children:[e.jsx(me,{size:20,style:{color:"#1a5d1a"}}),e.jsxs("div",{children:[e.jsx("strong",{children:a.nombre_completo}),e.jsx("span",{style:r.clienteCI,children:a.ci_nit})]})]},a.id_cliente))})]})]})}),E&&e.jsx("div",{style:r.modalOverlay,onClick:()=>B(!1),children:e.jsxs("div",{style:r.paymentModal,onClick:a=>a.stopPropagation(),children:[e.jsxs("div",{style:r.modalHeader,children:[e.jsx("h3",{children:"Procesar Pago"}),e.jsx("button",{style:r.closeBtn,onClick:()=>B(!1),children:e.jsx(ne,{size:20})})]}),e.jsxs("div",{style:r.paymentBody,children:[e.jsxs("div",{style:r.comprobanteSelector,children:[e.jsxs("button",{style:{...r.comprobanteBtn,...z==="TICKET"?r.comprobanteBtnActive:{}},onClick:()=>P("TICKET"),children:[e.jsx(ce,{size:18})," Ticket"]}),e.jsxs("button",{style:{...r.comprobanteBtn,...z==="FACTURA"?r.comprobanteBtnActive:{}},onClick:()=>P("FACTURA"),children:[e.jsx(ce,{size:18})," Factura"]})]}),z==="FACTURA"&&e.jsxs("div",{style:r.facturaForm,children:[e.jsxs("div",{style:r.formGroup,children:[e.jsx("label",{style:r.label,children:"NIT / CI *"}),e.jsx("input",{type:"text",value:_.nit,onChange:a=>W({..._,nit:a.target.value}),style:r.input,placeholder:"NIT del cliente"})]}),e.jsxs("div",{style:r.formGroup,children:[e.jsx("label",{style:r.label,children:"Raz贸n Social *"}),e.jsx("input",{type:"text",value:_.razon_social,onChange:a=>W({..._,razon_social:a.target.value}),style:r.input,placeholder:"Nombre o Raz贸n Social"})]}),e.jsxs("div",{style:r.formGroup,children:[e.jsx("label",{style:r.label,children:"Direcci贸n (Opcional)"}),e.jsx("input",{type:"text",value:_.direccion,onChange:a=>W({..._,direccion:a.target.value}),style:r.input,placeholder:"Direcci贸n fiscal"})]})]}),e.jsxs("div",{style:r.paymentTotal,children:[e.jsx("span",{children:"Total a Pagar"}),e.jsx("span",{style:r.paymentTotalValue,children:$(O)})]}),e.jsxs("div",{style:r.paymentMethods,children:[e.jsxs("button",{style:{...r.paymentMethod,...p==="EFECTIVO"?r.paymentMethodActive:{}},onClick:()=>T("EFECTIVO"),children:[e.jsx(He,{size:24}),"Efectivo"]}),e.jsxs("button",{style:{...r.paymentMethod,...p==="QR"?r.paymentMethodActive:{}},onClick:()=>T("QR"),children:[e.jsx(Ye,{size:24}),"QR"]}),e.jsxs("button",{style:{...r.paymentMethod,...p==="DEBITO"?r.paymentMethodActive:{}},onClick:()=>T("DEBITO"),children:[e.jsx(Ce,{size:24}),"Tarjeta"]})]}),p==="EFECTIVO"&&e.jsxs("div",{style:r.efectivoSection,children:[e.jsx("label",{children:"Monto Recibido (Bs)"}),e.jsx("input",{type:"number",value:w,onChange:a=>m(a.target.value),style:r.montoInput,placeholder:"0.00",min:O,step:"0.5"}),parseFloat(w)>=O&&e.jsxs("div",{style:r.vueltoBox,children:[e.jsx("span",{children:"Vuelto:"}),e.jsx("span",{style:r.vueltoValue,children:$(te)})]})]}),p==="QR"&&e.jsxs("div",{style:r.qrSection,children:[e.jsx("p",{style:{textAlign:"center",color:"#6c757d",marginBottom:"15px"},children:"Escanea el c贸digo QR para pagar"}),e.jsx("div",{style:r.qrContainer,children:e.jsx(Pe,{value:`DON BARATON - PAGO SIMULADO
Monto: Bs ${O.toFixed(2)}
Cliente: ${l?.nombre_completo||"N/A"}
Fecha: ${new Date().toLocaleDateString("es-BO")}`,size:180,level:"H",includeMargin:!0,bgColor:"#ffffff",fgColor:"#1a5d1a"})}),V>0?e.jsxs("div",{style:r.qrCountdown,children:[e.jsx(ge,{size:20,style:{animation:"spin 1s linear infinite"}}),e.jsxs("span",{children:["Confirmando pago en ",V," segundos..."]})]}):e.jsx("p",{style:{textAlign:"center",fontSize:"12px",color:"#999",marginTop:"10px"},children:"C贸digo QR simulado para demostraci贸n"})]}),e.jsx("button",{style:r.confirmPayBtn,onClick:xe,disabled:t||!l,children:t?e.jsxs(e.Fragment,{children:[e.jsx(ge,{size:20,style:{animation:"spin 1s linear infinite"}})," Procesando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(le,{size:20})," Confirmar Venta"]})}),!l&&e.jsxs("p",{style:r.warningText,children:[e.jsx(Le,{size:16})," Debe seleccionar un cliente"]})]})]})}),Z&&v&&e.jsx("div",{style:r.modalOverlay,children:e.jsxs("div",{style:r.comprobanteModal,children:[e.jsxs("div",{style:r.comprobanteHeader,children:[e.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px",margin:0},children:[v.tipo==="FACTURA"?e.jsx(Qe,{size:20}):e.jsx(ce,{size:20}),v.tipo==="FACTURA"?"Factura":"Ticket de Venta"]}),e.jsxs("div",{style:r.comprobanteActions,children:[e.jsxs("button",{style:r.printBtn,onClick:()=>{const a=document.getElementById("comprobante-print"),b=window.open("","","width=400,height=600");b.document.write("<html><head><title>Comprobante</title>"),b.document.write("<style>body{font-family:Arial,sans-serif;padding:20px;font-size:12px} table{width:100%;border-collapse:collapse} th,td{padding:8px;text-align:left;border-bottom:1px solid #ddd} .center{text-align:center} .right{text-align:right} .bold{font-weight:bold} .total{font-size:16px;font-weight:bold} hr{border:1px dashed #ccc}</style>"),b.document.write("</head><body>"),b.document.write(a.innerHTML),b.document.write("</body></html>"),b.document.close(),b.focus(),b.print(),b.close()},children:[e.jsx($e,{size:18}),"Imprimir"]}),e.jsx("button",{style:r.closeComprobanteBtn,onClick:()=>{U(!1),q(null),setTimeout(()=>L.current?.focus(),100)},children:e.jsx(ne,{size:20})})]})]}),e.jsxs("div",{id:"comprobante-print",style:r.comprobanteBody,children:[e.jsxs("div",{style:r.comprobanteTitulo,children:[e.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"8px"},children:e.jsx(De,{size:32,style:{color:"#1a5d1a"}})}),e.jsx("h2",{style:{margin:"0 0 5px 0",fontSize:"24px",color:"#1a5d1a"},children:"DON BARATON"}),e.jsx("p",{style:{margin:"0",fontSize:"12px",color:"#666"},children:"Supermercado"}),e.jsx("p",{style:{margin:"5px 0 0 0",fontSize:"11px",color:"#999"},children:"NIT: 123456789 | La Paz, Bolivia"})]}),e.jsx("hr",{style:{border:"1px dashed #ccc",margin:"15px 0"}}),e.jsx("div",{style:r.comprobanteTipo,children:e.jsx("strong",{children:v.tipo==="FACTURA"?"FACTURA":"TICKET DE VENTA"})}),e.jsxs("div",{style:r.comprobanteInfo,children:[e.jsxs("div",{style:r.infoRow,children:[e.jsx("span",{children:"N潞 Comprobante:"}),e.jsx("strong",{children:v.idVenta})]}),e.jsxs("div",{style:r.infoRow,children:[e.jsx("span",{children:"Fecha:"}),e.jsx("span",{children:v.fecha})]}),e.jsxs("div",{style:r.infoRow,children:[e.jsx("span",{children:"Hora:"}),e.jsx("span",{children:v.hora})]}),e.jsxs("div",{style:r.infoRow,children:[e.jsx("span",{children:"Cajero:"}),e.jsx("span",{children:v.cajero})]})]}),e.jsx("hr",{style:{border:"1px dashed #ccc",margin:"15px 0"}}),e.jsxs("div",{style:r.comprobanteCliente,children:[e.jsx("strong",{children:"CLIENTE"}),e.jsx("p",{style:{margin:"5px 0"},children:v.cliente?.nombre_completo||"Cliente General"}),e.jsxs("p",{style:{margin:"0",fontSize:"12px",color:"#666"},children:["CI/NIT: ",v.cliente?.ci_nit||"N/A"]}),v.tipo==="FACTURA"&&v.facturaDatos&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{style:{margin:"5px 0 0 0",fontSize:"12px"},children:[e.jsx("strong",{children:"Raz贸n Social:"})," ",v.facturaDatos.razon_social]}),v.facturaDatos.direccion&&e.jsxs("p",{style:{margin:"3px 0 0 0",fontSize:"12px"},children:[e.jsx("strong",{children:"Direcci贸n:"})," ",v.facturaDatos.direccion]})]})]}),e.jsx("hr",{style:{border:"1px dashed #ccc",margin:"15px 0"}}),e.jsxs("table",{style:r.comprobanteTable,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{textAlign:"left",paddingBottom:"10px",borderBottom:"2px solid #333"},children:"Producto"}),e.jsx("th",{style:{textAlign:"center",paddingBottom:"10px",borderBottom:"2px solid #333"},children:"Cant."}),e.jsx("th",{style:{textAlign:"right",paddingBottom:"10px",borderBottom:"2px solid #333"},children:"P.Unit"}),e.jsx("th",{style:{textAlign:"right",paddingBottom:"10px",borderBottom:"2px solid #333"},children:"Subtotal"})]})}),e.jsx("tbody",{children:v.items.map((a,b)=>e.jsxs("tr",{children:[e.jsx("td",{style:{padding:"8px 0",fontSize:"13px"},children:a.nombre}),e.jsx("td",{style:{textAlign:"center",padding:"8px 0"},children:a.cantidad}),e.jsxs("td",{style:{textAlign:"right",padding:"8px 0"},children:["Bs ",a.precio.toFixed(2)]}),e.jsxs("td",{style:{textAlign:"right",padding:"8px 0",fontWeight:"600"},children:["Bs ",(a.precio*a.cantidad).toFixed(2)]})]},b))})]}),e.jsx("hr",{style:{border:"1px dashed #ccc",margin:"15px 0"}}),e.jsxs("div",{style:r.comprobanteTotales,children:[e.jsxs("div",{style:r.totalRow,children:[e.jsx("span",{children:"Subtotal:"}),e.jsxs("span",{children:["Bs ",v.subtotal.toFixed(2)]})]}),e.jsxs("div",{style:{...r.totalRow,fontSize:"20px",fontWeight:"700",color:"#1a5d1a",marginTop:"10px"},children:[e.jsx("span",{children:"TOTAL:"}),e.jsxs("span",{children:["Bs ",v.total.toFixed(2)]})]})]}),e.jsx("hr",{style:{border:"1px dashed #ccc",margin:"15px 0"}}),e.jsxs("div",{style:r.comprobantePago,children:[e.jsxs("div",{style:r.infoRow,children:[e.jsx("span",{children:"M茅todo de Pago:"}),e.jsx("strong",{children:v.medioPago})]}),v.medioPago==="EFECTIVO"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:r.infoRow,children:[e.jsx("span",{children:"Monto Recibido:"}),e.jsxs("span",{children:["Bs ",v.montoRecibido.toFixed(2)]})]}),e.jsxs("div",{style:{...r.infoRow,color:"#1a5d1a",fontWeight:"600"},children:[e.jsx("span",{children:"Vuelto:"}),e.jsxs("span",{children:["Bs ",v.vuelto.toFixed(2)]})]})]})]}),e.jsx("hr",{style:{border:"1px dashed #ccc",margin:"15px 0"}}),e.jsxs("div",{style:r.comprobantePie,children:[e.jsx("p",{style:{margin:"0",textAlign:"center",fontSize:"12px",color:"#666"},children:"隆Gracias por su compra!"}),e.jsx("p",{style:{margin:"5px 0 0 0",textAlign:"center",fontSize:"11px",color:"#999"},children:"Conserve este comprobante para cualquier reclamo"}),v.tipo==="FACTURA"&&e.jsx("p",{style:{margin:"10px 0 0 0",textAlign:"center",fontSize:"10px",color:"#999"},children:"Este documento es una representaci贸n impresa de la factura electr贸nica"})]})]}),e.jsx("div",{style:r.comprobanteFooter,children:e.jsxs("button",{style:r.nuevaVentaBtn,onClick:()=>{U(!1),q(null),setTimeout(()=>L.current?.focus(),100)},children:[e.jsx(le,{size:18}),"Nueva Venta"]})})]})}),e.jsx("style",{children:"@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }"})]})}const r={container:{height:"calc(100vh - 80px)",overflow:"hidden"},posLayout:{display:"flex",height:"100%",gap:"20px",padding:"20px"},leftPanel:{flex:1,display:"flex",flexDirection:"column",gap:"20px",minWidth:0},rightPanel:{width:"420px",background:"white",borderRadius:"16px",display:"flex",flexDirection:"column",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},panelTitle:{display:"flex",alignItems:"center",gap:"10px",margin:0,fontSize:"18px",fontWeight:"600",color:"#1a5d1a"},scannerSection:{background:"white",borderRadius:"16px",padding:"25px",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},scannerBox:{display:"flex",alignItems:"center",gap:"15px",padding:"20px",background:"linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%)",border:"3px solid #1a5d1a",borderRadius:"16px",marginTop:"20px"},scannerIcon:{display:"flex",alignItems:"center",justifyContent:"center",width:"60px",height:"60px",background:"linear-gradient(135deg, #1a5d1a, #2e8b57)",borderRadius:"12px",color:"white"},scannerInput:{flex:1,border:"none",outline:"none",fontSize:"22px",fontWeight:"600",background:"transparent",padding:"10px 0",letterSpacing:"2px"},scannerHint:{marginTop:"15px",fontSize:"14px",color:"#6c757d",textAlign:"center"},clearButton:{background:"none",border:"none",cursor:"pointer",color:"#999",padding:"5px"},feedbackCard:{display:"flex",alignItems:"center",gap:"15px",padding:"15px 20px",background:"#e8f5e9",borderRadius:"12px",marginTop:"20px",animation:"fadeIn 0.3s ease"},feedbackPrice:{display:"block",fontSize:"14px",color:"#2e7d32",fontWeight:"600"},clienteSection:{background:"white",borderRadius:"16px",padding:"20px",boxShadow:"0 2px 12px rgba(0,0,0,0.05)"},clienteTitle:{display:"flex",alignItems:"center",gap:"8px",margin:"0 0 15px 0",fontSize:"16px",fontWeight:"600",color:"#333"},clienteCard:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"15px",background:"#e8f5e9",borderRadius:"10px"},clienteCI:{display:"block",fontSize:"12px",color:"#6c757d"},changeClienteBtn:{padding:"8px 16px",background:"white",border:"1px solid #1a5d1a",borderRadius:"8px",color:"#1a5d1a",cursor:"pointer",fontSize:"13px"},selectClienteBtn:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",width:"100%",padding:"15px",background:"#f8f9fa",border:"2px dashed #ccc",borderRadius:"10px",color:"#6c757d",cursor:"pointer",fontSize:"14px"},instructionsCard:{background:"linear-gradient(135deg, #f8f9fa, #e9ecef)",borderRadius:"16px",padding:"20px"},instructionsTitle:{margin:"0 0 15px 0",fontSize:"16px",color:"#333"},instructionsList:{margin:0,paddingLeft:"20px",color:"#6c757d",lineHeight:"2"},cartHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #e9ecef"},clearCartBtn:{padding:"8px",background:"#ffebee",border:"none",borderRadius:"8px",color:"#c62828",cursor:"pointer"},cartItems:{flex:1,overflowY:"auto",padding:"15px"},emptyCart:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"#999",gap:"10px"},cartItem:{display:"flex",flexDirection:"column",padding:"15px",background:"#f8f9fa",borderRadius:"10px",marginBottom:"10px"},cartItemInfo:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},cartItemName:{fontWeight:"600",color:"#333"},cartItemPrice:{fontSize:"13px",color:"#6c757d"},cartItemControls:{display:"flex",alignItems:"center",gap:"8px"},qtyBtn:{padding:"6px",background:"white",border:"1px solid #e9ecef",borderRadius:"6px",cursor:"pointer"},qtyValue:{minWidth:"30px",textAlign:"center",fontWeight:"600"},removeBtn:{padding:"6px",background:"#ffebee",border:"none",borderRadius:"6px",color:"#c62828",cursor:"pointer",marginLeft:"auto"},cartItemTotal:{textAlign:"right",fontWeight:"700",color:"#1a5d1a",marginTop:"10px"},cartFooter:{padding:"20px",borderTop:"1px solid #e9ecef",background:"#f8f9fa"},totalsRow:{display:"flex",justifyContent:"space-between",marginBottom:"10px",color:"#6c757d"},totalRow:{display:"flex",justifyContent:"space-between",fontSize:"20px",fontWeight:"700",marginBottom:"20px"},totalValue:{color:"#1a5d1a"},payButton:{display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",width:"100%",padding:"16px",background:"linear-gradient(135deg, #1a5d1a, #2e8b57)",color:"white",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:"600",cursor:"pointer"},modalOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},modal:{background:"white",borderRadius:"16px",width:"100%",maxWidth:"500px",maxHeight:"80vh",overflow:"hidden"},paymentModal:{background:"white",borderRadius:"16px",width:"100%",maxWidth:"450px"},modalHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #e9ecef"},closeBtn:{background:"none",border:"none",cursor:"pointer",color:"#6c757d"},modalBody:{padding:"20px",maxHeight:"400px",overflowY:"auto"},searchBox:{display:"flex",alignItems:"center",gap:"10px",padding:"12px 16px",background:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:"10px"},searchInput:{border:"none",outline:"none",fontSize:"14px",width:"100%",background:"transparent"},clienteList:{marginTop:"15px",display:"flex",flexDirection:"column",gap:"10px"},clienteOption:{display:"flex",alignItems:"center",gap:"15px",padding:"15px",background:"#f8f9fa",borderRadius:"10px",cursor:"pointer"},paymentBody:{padding:"25px"},paymentTotal:{textAlign:"center",marginBottom:"25px"},paymentTotalValue:{display:"block",fontSize:"36px",fontWeight:"700",color:"#1a5d1a"},paymentMethods:{display:"flex",gap:"10px",marginBottom:"25px"},paymentMethod:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",padding:"20px",background:"#f8f9fa",border:"2px solid #e9ecef",borderRadius:"12px",cursor:"pointer",color:"#6c757d"},paymentMethodActive:{background:"#e8f5e9",border:"2px solid #1a5d1a",color:"#1a5d1a"},efectivoSection:{marginBottom:"20px"},montoInput:{width:"100%",padding:"15px",fontSize:"24px",textAlign:"center",border:"2px solid #e9ecef",borderRadius:"12px",marginTop:"10px",boxSizing:"border-box"},vueltoBox:{display:"flex",justifyContent:"space-between",padding:"15px",background:"#e8f5e9",borderRadius:"10px",marginTop:"15px"},vueltoValue:{fontSize:"20px",fontWeight:"700",color:"#1a5d1a"},confirmPayBtn:{display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",width:"100%",padding:"18px",background:"linear-gradient(135deg, #1a5d1a, #2e8b57)",color:"white",border:"none",borderRadius:"12px",fontSize:"18px",fontWeight:"600",cursor:"pointer"},warningText:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginTop:"15px",color:"#e65100",fontSize:"14px"},qrSection:{marginBottom:"20px",padding:"20px",background:"#f8f9fa",borderRadius:"12px"},qrContainer:{display:"flex",justifyContent:"center",padding:"15px",background:"white",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},qrCountdown:{display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",marginTop:"15px",padding:"12px",background:"#e8f5e9",borderRadius:"8px",color:"#1a5d1a",fontWeight:"600"},comprobanteSelector:{display:"flex",gap:"10px",marginBottom:"20px",background:"#f8f9fa",padding:"5px",borderRadius:"10px"},comprobanteBtn:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"10px",border:"none",borderRadius:"8px",background:"transparent",cursor:"pointer",color:"#6c757d",fontWeight:"600"},comprobanteBtnActive:{background:"white",color:"#1a5d1a",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},facturaForm:{marginBottom:"20px",padding:"15px",background:"#f8f9fa",borderRadius:"10px",border:"1px solid #e9ecef"},formGroup:{marginBottom:"10px"},label:{display:"block",marginBottom:"5px",fontSize:"13px",fontWeight:"600",color:"#1a5d1a"},input:{width:"100%",padding:"10px",border:"1px solid #e9ecef",borderRadius:"8px",fontSize:"14px",boxSizing:"border-box"},comprobanteModal:{background:"white",borderRadius:"16px",width:"100%",maxWidth:"420px",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column"},comprobanteHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"15px 20px",borderBottom:"1px solid #e9ecef",background:"#f8f9fa"},comprobanteActions:{display:"flex",gap:"10px",alignItems:"center"},printBtn:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",background:"linear-gradient(135deg, #1a5d1a, #2e8b57)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"13px",fontWeight:"600"},closeComprobanteBtn:{background:"none",border:"none",cursor:"pointer",color:"#999",padding:"5px"},comprobanteBody:{flex:1,overflowY:"auto",padding:"20px",background:"white"},comprobanteTitulo:{textAlign:"center",marginBottom:"10px"},comprobanteTipo:{textAlign:"center",padding:"8px",background:"#e8f5e9",borderRadius:"6px",marginBottom:"15px",fontSize:"14px"},comprobanteInfo:{fontSize:"13px"},infoRow:{display:"flex",justifyContent:"space-between",padding:"4px 0"},comprobanteCliente:{fontSize:"13px"},comprobanteTable:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},comprobanteTotales:{fontSize:"14px"},comprobantePago:{fontSize:"13px"},comprobantePie:{marginTop:"10px"},comprobanteFooter:{padding:"15px 20px",borderTop:"1px solid #e9ecef",background:"#f8f9fa"},nuevaVentaBtn:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",width:"100%",padding:"14px",background:"linear-gradient(135deg, #1a5d1a, #2e8b57)",color:"white",border:"none",borderRadius:"10px",fontSize:"15px",fontWeight:"600",cursor:"pointer"}};export{gt as default};
